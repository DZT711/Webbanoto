<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BMW 330i M Sport - Chi Tiết</title>
    <script src="https://kit.fontawesome.com/8341c679e5.js" crossorigin="anonymous"></script>
    <link rel="icon" href="dp56vcf7.png" type="image/png">

    <link rel="stylesheet" href="bmw320.css">
    <script src="bmw320.js"></script>
</head>
<style>

    /* add hover effect for the thumbnail-container div */

    /* add hover effect for the car-info div */
    .car-info:hover {
        background-color: #f0f0f0;
        transition: background-color 0.3s ease-in-out;
    }
    /* add hover effect for the car-features and car-safety divs */
    .car-features:hover, .car-safety:hover {
        background-color: #f9f9f9;
        transition: background-color 0.3s ease-in-out;
    }
.active {
    border: 4px solid #007bff; /* Blue border for active thumbnail */
    opacity: 1; /* Full opacity for active thumbnail */
}
.thumbnail-container {
    display: flex;
    justify-content: center;
    align-items: center;
    margin-top: 20px;
}
.thumbnail {
    width: 80px;
    height: 60px;
    margin: 0 5px;
    cursor: pointer;
    opacity: 0.7; /* Reduced opacity for inactive thumbnails */
    transition: opacity 0.3s ease-in-out; /* Smooth transition for opacity change */
}
.thumbnail:hover {
    opacity: 1; /* Full opacity on hover */
}
/* .thumbnail-container {
    display: flex;
    justify-content: center;
    align-items: center;
    margin-top: 20px;
    gap: 20px; Added gap for better spacing between thumbnails */
/* } */
/* animation while change the image */
.animation {
    transition: opacity 0.5s ease-in-out; /* Smooth transition for image change */
}
/* Add a hover effect to the buttons */
.btn:hover {
    background-color: #0056b3; /* Darker blue on hover */
    color: white; /* White text on hover */
    transform: scale(1.05); /* Slightly enlarge the button on hover */
    transition: all 0.3s ease-in-out; /* Smooth transition for all properties */
}
/* ...existing code... */

/* Add these new styles at the end of your CSS file */
.fade {
    opacity: 0;
    transition: opacity 0.5s ease-in-out;
}

.fade-in {
    opacity: 1;
}

.car-image img {
    width: 600px;
    height: 350px;
    max-width: 600px;
    border: 2px solid #f4f4f4;
    border-radius: 10px;
    object-fit: contain;
    opacity: 1;
    transition: opacity 0.5s ease-in-out;
}
/* ...existing code... */

.active {
    border: 4px solid #007bff;
    opacity: 1;
    transform: scale(1.1);
    transition: all 0.3s ease-in-out;
    box-shadow: 0 0 10px rgba(0, 123, 255, 0.5);
    z-index: 1;
}

.thumbnail {
    width: 80px;
    height: 60px;
    margin: 0 5px;
    cursor: pointer;
    opacity: 0.7;
    transition: all 0.3s ease-in-out;
    position: relative;
    border: 4px solid transparent;
}

.thumbnail:hover {
    opacity: 1;
    transform: scale(1.05);
    box-shadow: 0 0 8px rgba(0, 0, 0, 0.2);
}
</style>
<body>
    <header>
        <div class="logo">
            <a class="nav" href="bmw.html"> 
            </a>
        </div>
    </header>

    <main>
        <!-- Car Info Section -->
        <div class="container">
            <div class="car-details">
                <div class="car-image">
                    <img id="mainImage" src="3-series.jpeg" alt="BMW 320i Sport Line 2023">
                </div>
            <div class="car-info">
                <h2>1.629.000.000 VND</h2>
                <p><strong>Model:</strong> BMW 330i M Sport</p>
                <p><strong>Năm Sản Xuất:</strong> 2023</p>
                <p><strong>Loại xe:</strong> Thể thao</p>
                <p><strong>Động cơ:</strong> B48; Turbo TwinPower 2.0L, I4</p>
                <p><strong>Tốc độ tối đa:</strong> 250 km/h</p>
                <p><strong>Địa chỉ:</strong> TP.HCM</p>
        </div>

        <div class="thumbnail-container">
            <button class="arrow" onclick="prevImage()">&#10094;</button>
            <img src="3-series.jpeg" class="thumbnail" alt="Hình thu nhỏ 1" onclick="changeImage('3-series.jpeg')">
            <img src="3-series2.jpg" class="thumbnail" alt="Hình thu nhỏ 2" onclick="changeImage('3-series2.jpg')">
            <img src="3-series3.jpg" class="thumbnail" alt="Hình thu nhỏ 3" onclick="changeImage('3-series3.jpg')"> 
            <img src="3-series4.jpg" class="thumbnail" alt="Hình thu nhỏ 4" onclick="changeImage('3-series4.jpg')">                <img src="3-series5.jpg" class="thumbnail" alt="Hình thu nhỏ 5" onclick="changeImage('3-series5.jpg')">         
            <button class="arrow" onclick="nextImage()">&#10095;</button>
        </div>
        
        
        <!-- Car Features Section -->
        <div class="car-features">
            <h3>⚙️ Option Nổi Bật</h3>
            <ul>
                <li>Núm xoay điều khiển iDrive Touch & hệ điều hành BMW 7.0</li>
                <li>Hệ thống âm thanh loa BMW Hifi 10 loa công suất 205W</li>
                <li>Điều hòa 3 vùng độc lập có cửa gió phía sau.</li>
                <li>Động cơ 4 xy-lanh thẳng hàng I4 tăng áp cổng nạp kép công nghệ BMW TwinPower-Turbo đi cùng hộp số tự động 8 cấp.</li>
                <li>Lưới tản nhiệt được thiết kế hình quả thận, xung quanh được viền crom mạ bạc.</li>
                <li>Màn hình thông tin giải trí có kích thước 10.25 inch, kết nối Apple Carplay, sạc không dây.</li>
                <li>Cụm đèn trước trang bị công nghệ LED toàn phần, mở rộng góc đánh lái, bật/tắt tự động.</li>
                <li>Bộ la zăng 18 inch, 10 nan bạc với lốp 225/45R18.</li>
            </ul>
        </div>

        <!-- Safety Features Section -->
        <div class="car-safety">
            <h3>⚙️ Tính Năng An Toàn Thông Minh</h3>
            <ul>
                <li>ABS là hệ thống chống bó cứng phanh.</li>
                <li>Thân xe điện tử với hệ thống ổn định DSC.</li>
                <li>Cảm biến cảnh báo va chạm trực diện với hệ thống báo động hoàn hảo.</li>
                <li>Hệ thống cảnh báo chệch làn đường.</li>
                <li>Hệ thống cảnh báo áp suất lốp.</li>
                <li>Hệ thống Parking Assistant tích hợp camera lùi.</li>
            </ul>
        </div>

        <!-- Action Buttons -->
        <div class="actions">
            <button class="btn primary" onclick="window.location.href='cart.html'">Thêm vào giỏ hàng</button>
            <button class="btn secondary" onclick="history.back()">Trở về</button>
        </div>
    </main>
    <script>
        //    function changeImage(imageSrc) {
        //         const mainImage = document.getElementById("mainImage");
        //         mainImage.src = imageSrc;
        //         // imageSrc.classList.add("active");
        //         const thumbnails = document.querySelectorAll('.thumbnail');
        //         thumbnails.forEach(thumbnail => {
        //             thumbnail.classList.remove("active");
        //         });
        //         const activeThumbnail = Array.from(thumbnails).find(thumbnail => thumbnail.src.includes(imageSrc));
        //         if (activeThumbnail) {
        //             activeThumbnail.classList.add("active");
        //         }
        //     }
        function nextImage() {
            const thumbnails = document.querySelectorAll('.thumbnail');
            const currentIndex = Array.from(thumbnails).findIndex(thumbnail => thumbnail.src.includes(document.getElementById('mainImage').src));
            const nextIndex = (currentIndex + 1) % thumbnails.length;
            changeImage(thumbnails[nextIndex].src);
        }
        function prevImage() {
            const thumbnails = document.querySelectorAll('.thumbnail');
            const currentIndex = Array.from(thumbnails).findIndex(thumbnail => thumbnail.src.includes(document.getElementById('mainImage').src));
            const prevIndex = (currentIndex - 1 + thumbnails.length) % thumbnails.length;
            changeImage(thumbnails[prevIndex].src);
        }
// Replace the existing changeImage function with this updated version:
function changeImage(imageSrc) {
    const mainImage = document.getElementById("mainImage");
    
    // Start fade out
    mainImage.style.opacity = '0';
    
    // Wait for fade out to complete
    setTimeout(() => {
        // Change the image source
        mainImage.src = imageSrc;
        
        // Start fade in
        mainImage.style.opacity = '1';
        
        // Update thumbnails
        const thumbnails = document.querySelectorAll('.thumbnail');
        thumbnails.forEach(thumbnail => {
            thumbnail.classList.remove("active");
        });
        const activeThumbnail = Array.from(thumbnails).find(thumbnail => thumbnail.src.includes(imageSrc));
        if (activeThumbnail) {
            activeThumbnail.classList.add("active");
        }
    }, 500); // This timing should match the CSS transition duration
}

// Update the autoChangeImage function to use a longer interval
function autoChangeImage() {
    const thumbnails = document.querySelectorAll('.thumbnail');
    let currentIndex = Array.from(thumbnails).findIndex(thumbnail => thumbnail.src.includes(document.getElementById('mainImage').src));
    const nextIndex = (currentIndex + 1) % thumbnails.length;
    changeImage(thumbnails[nextIndex].src);
}
setInterval(autoChangeImage, 3000); // Changed to 5 seconds to allow for animation

    
    </script>
</body>
</html>
